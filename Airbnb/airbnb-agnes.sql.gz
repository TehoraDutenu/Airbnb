

--
-- Table structure for table `equipement`
--

CREATE TABLE IF NOT EXISTS `equipement` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `label` VARCHAR (30) NOT NULL
  );



--
-- Table structure for table `utilisateur`
--

CREATE TABLE IF NOT EXISTS `utilisateur` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `prenom` VARCHAR (30) NOT NULL,
  `nom` VARCHAR (30) NOT NULL,
  `email` VARCHAR (30) NOT NULL,
  `password` VARCHAR (30) NOT NULL,
  `telephone` VARCHAR (10) NOT NULL,
  `adresse` VARCHAR (500) NOT NULL,
  `is_host` BOOL NOT NULL
  );


--
-- Table structure for table `type_bien`
--

CREATE TABLE IF NOT EXISTS `type_bien` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `label` VARCHAR (30) NOT NULL
  );



--
-- Table structure for table `bien`
--

CREATE TABLE IF NOT EXISTS `bien` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `utilisateur_id` INT NOT NULL,
  `label` VARCHAR (200) NOT NULL,
  `description` VARCHAR (500) NOT NULL,
  `adresse` VARCHAR (500) NOT NULL,
  `typebien_id` INT NOT NULL,
  `taille(mÂ²)` INT NOT NULL,
  `nbre_pieces` INT NOT NULL,
  `nbre_couchages` INT NOT NULL,
  `are_animals` BOOL NOT NULL,
  `prix_nuitee` INT NOT NULL, 
  FOREIGN KEY (`utilisateur_id`) REFERENCES `utilisateur`(`id`),
  FOREIGN KEY (`typebien_id`) REFERENCES `type_bien`(`id`)
  );


--
-- Table structure for table `disponibilite`
--

CREATE TABLE IF NOT EXISTS `disponibilite` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `bien_id` INT NOT NULL,
  `dispo_debut` VARCHAR(30) NOT NULL,
  `dispo_fin` VARCHAR(30) NOT NULL,
  FOREIGN KEY (`bien_id`) REFERENCES `bien`(`id`)
  );



--
-- Table structure for table `equipement_bien`
--

CREATE TABLE IF NOT EXISTS `equipement_bien` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `bien_id` INT NOT NULL,
  `equipement_id` INT NOT NULL,
  FOREIGN KEY (`bien_id`) REFERENCES `bien`(`id`),
  FOREIGN KEY (`equipement_id`) REFERENCES `equipement`(`id`)
  );



--
-- Table structure for table `reservation`
--

CREATE TABLE IF NOT EXISTS `reservation` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `utilisateur_id` INT NOT NULL,
  `bien_id` INT NOT NULL,
  `arrivee` VARCHAR(30) NOT NULL,
  `depart` VARCHAR(30) NOT NULL,
  FOREIGN KEY (`utilisateur_id`) REFERENCES `utilisateur`(`id`),
  FOREIGN KEY (`bien_id`) REFERENCES `bien`(`id`)
  );


--
-- Table structure for table `photo`
--

CREATE TABLE IF NOT EXISTS `photo` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `image_path` VARCHAR(255) NOT NULL,
  `slug` VARCHAR(30) NOT NULL,
  `bien_id` INT NOT NULL,
  FOREIGN KEY (`bien_id`) REFERENCES `bien`(`id`)
  );